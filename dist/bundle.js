(()=>{"use strict";var e,t,o={418:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=o(445),a={name:"",price:0};class i extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}changeName(e){a.name=e.target.value}changePrice(e){a.price=e.target.value}submitForm(){(0,r.addProduct)(a)}render(){return n(this,void 0,void 0,(function*(){if(this.shadowRoot){const e=this.ownerDocument.createElement("h1");e.innerText="Formulario para crear productos",this.shadowRoot.appendChild(e);const t=this.ownerDocument.createElement("input");t.placeholder="Nombre del producto",t.addEventListener("change",this.changeName),this.shadowRoot.appendChild(t);const o=this.ownerDocument.createElement("input");o.placeholder="Precio del producto",o.addEventListener("change",this.changePrice),this.shadowRoot.appendChild(o);const n=this.ownerDocument.createElement("button");n.innerText="Enviar producto",n.addEventListener("click",this.submitForm),this.shadowRoot.appendChild(n);const a=yield(0,r.getProducts)();null==a||a.forEach((e=>{var t;const o=this.ownerDocument.createElement("section"),n=this.ownerDocument.createElement("h3");n.innerText=e.name,o.appendChild(n);const r=this.ownerDocument.createElement("h3");r.innerText=e.price,o.appendChild(r),null===(t=this.shadowRoot)||void 0===t||t.appendChild(o)}))}}))}}customElements.define("app-dashboard",i),t.default=i},585:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r=o(482),a=o(997),i=o(445),s={email:"",password:""};class c extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){this.render()}changeEmail(e){s.email=e.target.value}changePassword(e){s.password=e.target.value}submitForm(){return n(this,void 0,void 0,(function*(){(yield(0,i.registerUser)(s.email,s.password))?(0,r.dispatch)((0,a.navigate)("DASHBOARD")):alert("No se pudo crear el usuario")}))}render(){return n(this,void 0,void 0,(function*(){if(this.shadowRoot){const e=this.ownerDocument.createElement("h1");e.innerText="Registro",this.shadowRoot.appendChild(e);const t=this.ownerDocument.createElement("input");t.placeholder="Correo electronico",t.addEventListener("change",this.changeEmail),this.shadowRoot.appendChild(t);const o=this.ownerDocument.createElement("input");o.placeholder="Contraseña",o.addEventListener("change",this.changePassword),this.shadowRoot.appendChild(o);const n=this.ownerDocument.createElement("button");n.innerText="Registrarme",n.addEventListener("click",this.submitForm),this.shadowRoot.appendChild(n)}}))}}customElements.define("app-register",c),t.default=c},997:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.navigate=void 0;t.navigate=e=>({action:"NAVIGATE",payload:e})},482:function(e,t,o){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.addObserver=t.dispatch=t.appState=void 0;const r=o(950),a=n(o(167));t.appState=a.default.get("STORE",{screen:"REGISTER"});let i=[];t.dispatch=e=>{const o=JSON.parse(JSON.stringify(t.appState)),n=(0,r.reducer)(e,o);var s;t.appState=n,s=n,a.default.set("STORE",s),i.forEach((e=>e.render()))};t.addObserver=e=>{i=[...i,e]}},950:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=void 0;t.reducer=(e,t)=>{const{action:o,payload:n}=e;return"NAVIGATE"===o?Object.assign(Object.assign({},t),{screen:n}):t}},155:(e,t)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Screens=void 0,function(e){e.LOGIN="LOGIN",e.DASHBOARD="DASHBOARD",e.REGISTER="REGISTER"}(o||(t.Screens=o={}))},445:function(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(r,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function s(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,s)}c((n=n.apply(e,t||[])).next())}))};let r,a;Object.defineProperty(t,"__esModule",{value:!0}),t.registerUser=t.getProducts=t.addProduct=void 0;const i=()=>n(void 0,void 0,void 0,(function*(){if(!r){const{getFirestore:e}=yield Promise.all([o.e(990),o.e(26)]).then(o.bind(o,26)),{initializeApp:t}=yield Promise.all([o.e(990),o.e(223)]).then(o.bind(o,223)),{getAuth:n}=yield Promise.all([o.e(990),o.e(730)]).then(o.bind(o,730)),i=t({apiKey:"AIzaSyDdeXwNTkI8lHfmjLFhtC4FbJvfGKIr9_s",authDomain:"apps-reto1.firebaseapp.com",databaseURL:"https://apps-reto1.firebaseio.com",projectId:"apps-reto1",storageBucket:"apps-reto1.appspot.com",messagingSenderId:"470696037037",appId:"1:470696037037:web:6de930ceb2df9d14ddd424",measurementId:"G-G9ELH58HS7"});r=e(i),a=n(i)}return{db:r,auth:a}}));t.addProduct=e=>n(void 0,void 0,void 0,(function*(){try{const{db:t}=yield i(),{collection:n,addDoc:r}=yield Promise.all([o.e(990),o.e(26)]).then(o.bind(o,26)),a=n(t,"products");yield r(a,e),console.log("Se añadió con exito")}catch(e){console.error("Error adding document",e)}}));t.getProducts=()=>n(void 0,void 0,void 0,(function*(){try{const{db:e}=yield i(),{collection:t,getDocs:n}=yield Promise.all([o.e(990),o.e(26)]).then(o.bind(o,26)),r=t(e,"products"),a=yield n(r),s=[];return a.forEach((e=>{s.push(e.data())})),s}catch(e){console.error("Error getting documents",e)}}));t.registerUser=(e,t)=>n(void 0,void 0,void 0,(function*(){try{const{auth:n}=yield i(),{createUserWithEmailAndPassword:r}=yield Promise.all([o.e(990),o.e(730)]).then(o.bind(o,730)),a=yield r(n,e,t);return console.log(a.user),!0}catch(e){return console.error(e),!1}}))},167:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default={get:(e,t)=>{const o=localStorage.getItem(e)||sessionStorage.getItem(e);return o?JSON.parse(o):t},set:(e,t,o=!1)=>{const n=o?sessionStorage:localStorage,r=JSON.stringify(t);n.setItem(e,r)}}}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={exports:{}};return o[e].call(a.exports,a,a.exports,r),a.exports}r.m=o,r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,o)=>(r.f[o](e,t),t)),[])),r.u=e=>e+".bundle.js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="class11:",r.l=(o,n,a,i)=>{if(e[o])e[o].push(n);else{var s,c;if(void 0!==a)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var u=d[l];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==t+a){s=u;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+a),s.src=o),e[o]=[n];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var r=e[o];if(delete e[o],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),c&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var n=o.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=o[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={792:0};r.f.j=(t,o)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var a=new Promise(((o,r)=>n=e[t]=[o,r]));o.push(n[2]=a);var i=r.p+r.u(t),s=new Error;r.l(i,(o=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var a=o&&("load"===o.type?"missing":o.type),i=o&&o.target&&o.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",s.name="ChunkLoadError",s.type=a,s.request=i,n[1](s)}}),"chunk-"+t,t)}};var t=(t,o)=>{var n,a,[i,s,c]=o,d=0;if(i.some((t=>0!==e[t]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(c)c(r)}for(t&&t(o);d<i.length;d++)a=i[d],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},o=self.webpackChunkclass11=self.webpackChunkclass11||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();(()=>{r(585),r(418);const e=r(482),t=r(155);class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),(0,e.addObserver)(this)}connectedCallback(){this.render()}render(){if(this.shadowRoot)switch(this.shadowRoot.innerHTML="",e.appState.screen){case t.Screens.REGISTER:const e=this.ownerDocument.createElement("app-register");this.shadowRoot.appendChild(e);break;case t.Screens.DASHBOARD:const o=this.ownerDocument.createElement("app-dashboard");this.shadowRoot.appendChild(o)}}}customElements.define("app-container",o)})()})();